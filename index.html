<!doctype html>
<html lang="tw">

<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="author" content="tsumikihuang">
  <link rel="icon" href="./src/assets/LOGO.png">

  <title>修改表單</title>

  <!-- Bootstrap core CSS 
  <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.min.css">
  <script src="./node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
-->
  <style>
    .m_list-group {
      max-height: 85vh;
      overflow: auto;
      -webkit-overflow-scrolling: touch;
    }

    .m_nav {
      position: fixed;
    }
  </style>
</head>

<body class="bg-light">
  <div id="_application" class="container">

    <div class="row">
      <div class="col-8">
        <img class="d-block mx-auto mb-4" src="./src/assets/四個人.png" alt="" width=100%>
        <div class="text-center">
          <h2>語言練習VR教室</h2><br>
          <p class="lead">新增修改課程，修改完畢送出後，間隔5分鐘後查看測試。<br />若有問題或資料回復，請洽工程師。(202011)</p>
          <button v-on:click="save_file();">save_file</button>
        </div>

        <form id="courseID" class="needs-validation" novalidate>

          <div class="jumbotron" v-bind:id="'courseID_'+courseID" v-for="(courses_item, courseID) in vue.courses">
            <div class="row">
              <div class="col-md-9 mb-3 text-info">
                <h1>{{courses_item.name}}</h1>
              </div>
              <div class="col-md-3 mb-3"><button type="button" class="btn btn-outline-danger float-right" id="del_QA"
                  v-on:click="delete_course(courseID);">刪除課程</button></div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="Name">課程名稱
                  <span class="text-muted">(中英日皆可)</span>
                </label>
                <input type="text" class="form-control" v-model="courses_item.name" required>
                <div class="invalid-feedback">你忘了它!</div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="ID">Youtube ID
                  <span class="text-muted">(網址後方watch?v="這個")</span>
                </label>
                <input type="text" class="form-control" v-model="courses_item.youtube_id" required>
                <div class="invalid-feedback">你忘了它!</div>
              </div>
            </div>
            <button class="btn btn-outline-success" v-on:click="add_clip(courseID,-1);" type="button">向下新增問題</button>
            <hr class="mb-4">
            <!--_____________________________________________________________________________________________-->
            <!--_____________________________________________________________________________________________-->
            <!--_____________________________________________________________________________________________-->

            <div v-bind:id="clipID" v-for="(clip_item, clipID) in vue.courses[courseID].clips">


              <!-- **************************************************************** -->
              <div>
                <div class="row">
                  <div class="col-md-6 mb-3 text-secondary">
                    <h3>第{{clipID+1}}題</h3>
                  </div>
                  <div class="col-md-6 mb-3">
                    <button type="button" class="btn btn-outline-danger float-right"
                      v-on:click="delete_clip(courseID,clipID);">刪除問題</button>
                  </div>
                </div>

                <label for="">題目</label>
                <span class="text-muted"></span>
                <input type="text" class="form-control" v-model="clip_item.ques" required>
                <div class="invalid-feedback">你忘了它!</div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label for="start_nosound">第幾秒開始消音</label>
                    <span class="text-muted">(若不需要消音，填0)</span>
                    <input type="text" class="form-control" v-model="clip_item.start_nosound" required>
                    <div class="invalid-feedback">你忘了它!</div>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label for="end_nosound">第幾秒結束消音</label>
                    <span class="text-muted">(若不需要消音，填0)</span>
                    <input type="text" class="form-control" v-model="clip_item.end_nosound" required>
                    <div class="invalid-feedback">你忘了它!</div>
                  </div>
                </div>
                <label for="Ans">解答</label>
                <span class="text-muted">(若為特殊單字可能無法成功))</span>
                <ul>
                  <li v-for="(ans_item, ansID) in vue.courses[courseID].clips[clipID].ans">
                    <div v-bind:id="ansID" class="input-group mb-3">
                      <input type="text" class="form-control" aria-label="Recipient's username"
                        aria-describedby="basic-addon2" v-model="clip_item.ans[ansID]">
                      <div class="input-group-append">
                        <button class="btn btn-outline-danger" type="button"
                          v-on:click="delete_ans(courseID,clipID,ansID);">刪除</button>
                      </div>
                    </div>
                  </li>
                </ul>
                <button class="btn btn-outline-success" v-on:click="add_ans(courseID,clipID);"
                  type="button">新增解答</button>
                <button class="btn btn-outline-success" v-on:click="add_clip(courseID,clipID);"
                  type="button">向下新增問題</button>
              </div>
              <hr class="mb-4">
            </div>
            <button class="btn btn-outline-success" v-on:click="add_course(courseID);" type="button">向下新增課程</button>
          </div>
          <!--_____________________________________________________________________________________________-->
          <!--_____________________________________________________________________________________________-->
          <!--_____________________________________________________________________________________________-->
          <button href="#" class="btn btn-primary btn-lg btn-block" type="submit">確定上方的所有變更，提交課程</button>
          <br />
        </form>
      </div>

      <div class="col-4">
        <div class="m_nav"><br />
          <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-muted">所有課程</span>
            <span class="badge badge-secondary badge-pill" id="json_num">000</span>
          </h4>
          <div class="overflow-auto m_list-group">
            <ul class="list-group mb-3 " id="json_all_course"></ul>
          </div>

        </div>
      </div>

    </div>
  </div>
</body>

</html>
